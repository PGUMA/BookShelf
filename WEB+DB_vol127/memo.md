# 縁の下のUIデザイン

文字で説明するデザイン

1. 特定の条件でだけ見ることができる
    - コーチマーク
    - 初回のみのモーダル
2. 常に見えている
3. ユーザーが見たいときにだけ見れる
    - ツールチップ
    - help

# 漫画から学ぶマネジメント

- 対立する考えへの立ち向かい方（宇宙兄弟）

宇宙開発への税金投入への抗議文 → 抗議しない

    相手を議論の末の論理で説き伏せるよりも、体験させて理解・共感を得る方が素早く上手くいくこともある


- 失敗の価値

失敗をすることにかける金と労力が必要

    高いものが良いものとは限らない。失敗を知ってそれを乗り越えたものは良いものになる

# 特集１ 実践リファクタリング

保守性と生産性の高いコードを書くための尺度=>関数の分け方の基準
- 凝集度
- 結合度

なぜリファクタリングが必要なのか？
    
    コードは時間経過と共に必ず劣化する

ソフトウェアは日々変化（仕様の追加・変更・削除 etc...）するためある時点でベストな設計が時間の経過と共にベストでなくなるのは至極当然
つまり、リファクタリングは汚いコードだけではなく、綺麗なコードにも綺麗さを保つためには必要なもの

- 1章 良いコードとは？
    > チーム（組織）として高い生産性を発揮できるコード

    ※ただ綺麗なだけでは価値がない   

    > ・日常的に反復される実装を効率的に再現できる<br/>
    > ・思考とコード上の表現の対応が取れているコード（理解しやすい）</br>
    > ・要件変更に対する柔軟性

- 2章 凝集度
    - 凝集度とは？
    
        関数の処理の少なさを表す尺度（高い＝良い　低い＝悪い）

    - 凝集度の種類
        1. 偶発的凝集
            
            関係のない処理が無作為に集められた状態。最も凝集度が低く再利用性がほとんどない状態

            - 解決法
                - 関係ない処理を削除する

        2. 論理的凝集

            関係のない処理をフラグで切り替えている状態やある分岐でしか使わない引数が与えられている状態

            - 解決策
                - そもそも削除できないか検討する

        3. 時間的凝集

            1. 手続き的凝集

            機能的には関連がないが、実行タイミング等で同じタイミングで処理されるものが集まった状態

            2. 手続き的凝集

                時間的凝集に加えて各処理に実行順序性がある状態

            3. 通信的凝集

                時間的凝集に加えて各処理が同一値に対して作用するものである状態

            4. 逐次的凝集

                時間的凝集に加えて関連する値を処理間で受け渡している状態

            - 解決策
                - 機能的凝集のされた関数に切り出せないかを検討（機能単位で再利用できるようになる）

        4. 機能的凝集

            機能単位で処理が凝集された状態（理想的な状態）

- 3章 結合度

    - 結合度とは？

        関数の独立性を表す尺度（高い＝悪い　低い＝良い）

    - 結合度の種類

        1. グルーバルアクセスによる結合
            1. 内部結合
                
                宣言されていない変数を介したた結合=メモリアドレスを直接参照しにいく形で関数間が結合している状態（現代言語ではほぼ不可能）

            2. 共通結合

                共通の複数のグルーバル変数を介して関数間が結合している状態

            3. 外部結合

                共通の単数のグルーバル変数を介して関数間が結合している状態
        
            - 解決策
                - グルーバル変数をローカル変数化して受け渡す形にする

        - 制御結合

            呼び出し元が制御フラグを渡して処理を委譲している状態（内部状態を一部知っていることになる）

            - 解決策
                - フラグを受け取る関数自体をそもそも削除できないか検討する

        - スタンプ結合

            引数に渡すデータ構造を介して結合している状態（※悪い状態ではない）

            - 注意点
                - 過剰なデータ構造を渡していないか注意しよう

        - データ結合

            引数に渡すスカラ値を介して系都合している状態（※悪い状態ではない）

        - メッセージ結合

            引数がなく、呼び出しのみで結合している状態（※悪い状態ではない）


- 4章 時間的凝集＆論理的凝集

    - 時間的凝集に関して実践的知識

        - 時間的凝集は必ずしも悪ではないが可能な限り処理の詳細を書かずに機能的凝集された関数に切り出す形にする

        - 時間的凝集を解決した良い例 Reactの`useEffect`（Hooks）は機能的凝集単位で処理を書けるようにライフサイクルフックがクラスコンポーネント時代と比べて改善されている

    - 論理的凝集に関して実践的知識

        - ユースケースごとに関数を凝集させて時間的凝集に持っていく
            - 共通化による変更箇所の局所化と論理的凝集の回避による影響範囲の局所化はトレードオフ
                - 複雑度を加味すると論理的凝集を回避してテストで保護する方針の方がメリットが高いと想定

        - ユースケースごとに関数を凝集させることで、仕様の変更とコードの変更がストレートに結びつく形になり保守性が高まる

- 5章 DRYの原則

        DRY=Don't Repeat Yourself

    - 偽物の重複

        - 機能的凝集がされた単位の関数を複数回呼んでいるところを重複とみなすのは危険
        - 要件の変更に合わせて重複回避のためにDRYのために用意した機構にも影響がある場合誤った抽象化の可能性を疑う
        - 仕様変更の内容とコードの変更内容が対応づいている状態はわかりやすい。逆に対応づいていない場合（主に実装のためのコード変更を伴っている）は過剰な誤った抽象化をしている可能性を疑う



# その他

## textlint
日本語の文章の校閲ルールを用意してlintできる模様
試してみたい

[textlint](https://github.com/textlint/textlint)